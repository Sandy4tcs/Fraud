CREATE TABLE SOCIAL_MEDIA (EMAIL VARCHAR(40),FACEBOOK_HANDLE VARCHAR(50),TWITTER_HANDLE VARCHAR(50),PRIMARY KEY(EMAIL));
CREATE TABLE FRAUD_SCORE (EMAIL VARCHAR(40),CATEGORY VARCHAR(40),EVIDENCE_SOURCE VARCHAR(30),EVIDENCE_DATE DATE,SCORE VARCHAR(30),EVIDENCE_LINK VARCHAR(40),POST VARCHAR(50))
CREATE TABLE EMPLOYMENT_DETAILS (EMAIL VARCHAR(40),EMPLOYMENT_START_DATE DATE,EMPLOYMENT_END_DATE DATE,INCOME VARCHAR(20))
CREATE TABLE ACCOUNT_DETAILS (EMAIL VARCHAR(40),ACCOUNT_TYPE VARCHAR(20),BALANCE DOUBLE,FOREIGN KEY (EMAIL) REFERENCES CANDIDATE_DETAILS (EMAIL));
CREATE TABLE HISTORY (SEARCH_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,EMAIL VARCHAR(40),FIRST_NAME VARCHAR(40),LAST_NAME VARCHAR(40),SEARCH_DATE DATE,FOREIGN KEY (EMAIL) REFERENCES CANDIDATE_DETAILS (EMAIL))
CREATE TABLE BENEFIT (EMAIL VARCHAR(40),BENEFIT_TYPE VARCHAR(40),ENTITLE_AMOUNT_PER_WEEK DOUBLE,BENEFIT_START_DATE DATE,BENEFIT_END_DATE DATE)
CREATE TABLE CANDIDATE_DETAILS (EMAIL VARCHAR(40),FIRST_NAME VARCHAR(40),LAST_NAME VARCHAR(40),DOB DATE,REPORTED_BY VARCHAR(40),RESIDENT_SINCE_MONTH VARCHAR(10),RESIDENT_SINCE_YEAR VARCHAR(10),ADDRESS_LINE1 VARCHAR(100),ADDRESS_LINE2 VARCHAR(100),POSTAL_TOWN VARCHAR(40),POSTAL_CODE VARCHAR(20),COUNTRY VARCHAR(20),PRIMARY KEY(EMAIL))
CREATE TABLE BATCH_JOB (JOB_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,STATUS VARCHAR(100),JOB_TIME TIMESTAMP)
ALTER table CANDIDATE_DETAILS ADD COLUMN PHONENO VARCHAR(20);
ALTER table CANDIDATE_DETAILS ADD COLUMN MODIFIED_AT TIMESTAMP;
ALTER table CANDIDATE_DETAILS DROP COLUMN ADDRESS_LINE3
DROP TABLE EMPLOYMENT_DETAILS
ALTER TABLE ACCOUNT_DETAILS ALTER COLUMN BALANCE VARCHAR(20)
ALTER table EMPLOYMENT_DETAILS ADD COLUMN EMPLOYER VARCHAR(40);
TRUNCATE TABLE HISTORY
DROP TABLE ACCOUNT_DETAILS
SELECT CANDIDATE_DETAILS.EMAIL AS EMAIL FROM CANDIDATE_DETAILS WHERE CANDIDATE_DETAILS.EMAIL NOT IN (SELECT EMAIL FROM SOCIAL_MEDIA)
SELECT DISTINCT EMAIL,FIRST_NAME,LAST_NAME FROM HISTORY
DROP TABLE BENEFIT
ALTER TABLE BENEFIT ALTER COLUMN ENTITLE_AMOUNT_PER_WEEK VARCHAR(20)
ALTER TABLE FRAUD_SCORE ALTER COLUMN EVIDENCE_LINK VARCHAR(200)
DROP TABLE FRAUD_SCORE
SELECT BENEFIT.BENEFIT_TYPE,BENEFIT.BENEFIT_START_DATE,FRAUD_SCORE.CATEGORY,FRAUD_SCORE.EVIDENCE_SOURCE,FRAUD_SCORE.SCORE,FRAUD_SCORE.EVIDENCE_LINK FROM BENEFIT RIGHT OUTER JOIN FRAUD_SCORE ON BENEFIT.EMAIL=FRAUD_SCORE.EMAIL
DELETE from HISTORY where EMAIL='subhasis888@gmail.com'